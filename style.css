/* === Base === */
body {
  margin: 0;
  font-family: 'Orbitron', sans-serif;
  background: radial-gradient(circle, #0f0f0f, #1a1a1a);
  color: #fff;
  text-align: center;
  overflow-x: hidden;
}
h1 {
  font-family: 'Bangers', cursive;
  color: #00ffea;
  text-shadow: 0 0 10px #0ff, 0 0 20px #0ff;
}

/* === Heroes === */
.hero-grid {
  display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; margin-bottom: 20px;
}
.hero-card {
  border: 2px solid #0ff; border-radius: 10px; padding: 5px; cursor: pointer;
  transition: transform .2s, box-shadow .2s, opacity .2s;
  width: 100px; background: #111;
}
.hero-card:hover { transform: scale(1.08); box-shadow: 0 0 15px #0ff; }
.hero-card img { width: 100%; border-radius: 10px; object-fit: cover; }
.hero-card.disabled { pointer-events: none; opacity: .5; }

/* === Arena === */
.battle-arena {
  display: flex; justify-content: center; align-items: flex-end;
  margin: 20px 0; position: relative; height: 220px;
}
.hero-container { width: 150px; height: 150px; display:flex; flex-direction:column; align-items:center; }
.hero-container img { width: 120px; height: 120px; object-fit: contain; }
.vs {
  font-family: 'Bangers', cursive; font-size: 48px; margin: 0 20px; color: #ff00ff;
  text-shadow: 0 0 10px #ff0, 0 0 20px #f0f;
}

/* === HP === */
.hp-bar {
  width: 100%; height: 12px; background: #fff; border-radius: 5px; margin-top: 5px; overflow: hidden;
}
.hp-fill {
  height: 100%; width: 100%;
  background: rgb(0,200,0);
  transition: width .25s ease, background-color .25s ease;
  border-radius: 5px;
}

/* === Stats === */
.stats {
  display: grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
  gap: 12px; padding: 0 12px; max-width: 800px; margin: 10px auto 0;
}
.stat-card {
  background: rgba(0,0,0,.5); border: 1px solid #0ff; border-radius: 12px; padding: 10px;
}
.stat-card h3 { margin: 0 0 6px 0; color: #0ff; }
.stat-list { font-size: 14px; text-align: left; line-height: 1.4; }

/* === Log === */
.battle-log {
  background: rgba(0, 0, 0, 0.6);
  margin: 20px auto; padding: 10px; width: 90%; max-width: 700px;
  border-radius: 10px; height: 160px; overflow-y: auto;
}

/* === Buttons === */
button {
  padding: 10px 20px; font-size: 16px; margin: 5px; cursor: pointer;
  border: none; border-radius: 8px;
  background: linear-gradient(45deg, #0ff, #f0f, #0ff);
  color: #000; font-weight: bold; text-shadow: 0 0 5px #fff;
  transition: transform .2s, box-shadow .2s;
}
button:hover { transform: scale(1.08); box-shadow: 0 0 15px #0ff; }

/* === Modal === */
.modal {
  display: none; position: fixed; inset: 0; z-index: 1000;
  background: rgba(0,0,0,.8);
  justify-content: center; align-items: center;
}
.modal-content {
  position: relative; overflow: hidden;
  background: #111; border: 2px solid #0ff; border-radius: 16px;
  width: 86%; max-width: 420px; padding: 20px; text-align: center;
  box-shadow: 0 0 25px rgba(0,255,255,.25);
}
.modal-content.win { box-shadow: 0 0 30px rgba(0,255,128,.5); }
.modal-content.lose{ box-shadow: 0 0 30px rgba(255,64,64,.5); }

#effectContainer {
  position: absolute; inset: 0; pointer-events: none; overflow: hidden;
}

/* === Effects (ribbons & skulls) inside modal === */
.ribbon, .skull {
  position: absolute; top: -24px; opacity: .95; will-change: transform, opacity;
  animation: fall-drift var(--t,3.4s) linear forwards;
}
.ribbon {
  width: 6px; height: 22px; border-radius: 3px;
  /* Цвет задаётся инлайном через style.background */
}
.skull {
  width: 20px; height: 20px;
  background: url("images/skull.png") no-repeat center/contain;
}

@keyframes fall-drift {
  0%   { transform: translate(0, -30px) rotate(0deg);   opacity: 1; }
  100% { transform: translate(var(--dx, 0px), 420px) rotate(var(--rot,720deg)); opacity: 0; }
}
